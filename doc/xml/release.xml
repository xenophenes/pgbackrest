<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE doc SYSTEM "doc.dtd">
<doc title="{[project]} Releases" toc-number="n">
    <description>The {[project]} Releases detail each version of the software and lists the changes made in each version.</description>

    <intro>
        <text><backrest/> release numbers consist of two parts, major and minor.  A major release may break compatibility with the prior major release, for instance the 1.XX releases are not compatible with the 0.XX releases.  Minor releases can include bug fixes and features but do not change the interface, naming, or the repository format.

        The notes for a release may also contain <quote>Additional Notes</quote> but changes in this section are only to documentation or the test suite and have no direct impact the on the <backrest/> codebase.</text>
    </intro>

    <contributor-list>
        <!-- The first contributor is the default for all release items to simplify the xml -->
        <contributor id="steele.david">
            <contributor-name-display>David Steele</contributor-name-display>
            <contributor-id type="github">dwsteele</contributor-id>
        </contributor>

        <!-- The order of other contributors is alpha by name -->
        <contributor id="avellar.leonardo">
            <contributor-name-display>Leonardo Avellar</contributor-name-display>
            <contributor-id type="github">L30Bola</contributor-id>
        </contributor>

        <contributor id="barber.chris">
            <contributor-name-display>Chris Barber</contributor-name-display>
            <contributor-id type="github">gamerscomplete</contributor-id>
        </contributor>

        <contributor id="benoit.evan">
            <contributor-name-display>Evan Benoit</contributor-name-display>
            <contributor-id type="github">evanbenoit</contributor-id>
        </contributor>

        <contributor id="berg.christoph">
            <contributor-name-display>Christoph Berg</contributor-name-display>
            <contributor-id type="github">ChristophBerg</contributor-id>
        </contributor>

        <contributor id="biberhofer.sascha">
            <contributor-name-display>Sascha Biberhofer</contributor-name-display>
            <contributor-id type="github">sbiberhofer</contributor-id>
        </contributor>

        <contributor id="didovicher.dmitry">
            <contributor-name-display>Dmitry Didovicher</contributor-name-display>
            <contributor-id type="github">anarazel</contributor-id>
        </contributor>

        <contributor id="fort.chris">
            <contributor-name-display>Chris Fort</contributor-name-display>
            <contributor-id type="github">the1forte</contributor-id>
        </contributor>

        <contributor id="freund.andres">
            <contributor-name-display>Andres Freund</contributor-name-display>
            <contributor-id type="github">anarazel</contributor-id>
        </contributor>

        <contributor id="frost.stephen">
            <contributor-name-display>Stephen Frost</contributor-name-display>
            <contributor-id type="github">sfrost</contributor-id>
        </contributor>

        <contributor id="golpayegani.navid">
            <contributor-name-display>Navid Golpayegani</contributor-name-display>
            <contributor-id type="github">golpa</contributor-id>
        </contributor>

        <contributor id="gunduz.devrim">
            <contributor-name-display>Devrim G&amp;uuml;nd&amp;uuml;z</contributor-name-display>
            <contributor-id type="github">devrimgunduz</contributor-id>
        </contributor>

        <contributor id="harvey.john">
            <contributor-name-display>John Harvey</contributor-name-display>
            <contributor-id type="github">crunchyjohn</contributor-id>
        </contributor>

        <contributor id="kulkarni.nikhilchandra">
            <contributor-name-display>Nikhilchandra Kulkarni</contributor-name-display>
            <contributor-id type="github">nikhilchandra-kulkarni</contributor-id>
        </contributor>

        <contributor id="lardiere.sebastien">
            <contributor-name-display>Lardi&amp;egrave;re S&amp;eacute;bastien</contributor-name-display>
            <contributor-id type="github">slardiere</contributor-id>
        </contributor>

        <contributor id="lobrÃ©au.benoit">
            <contributor-name-display>blogh</contributor-name-display>
            <contributor-id type="github">blogh</contributor-id>
        </contributor>

        <contributor id="odonnell.jason">
            <contributor-name-display>Jason O'Donnell</contributor-name-display>
            <contributor-id type="github">Dwaligon</contributor-id>
        </contributor>

        <contributor id="parkinson.janice">
            <contributor-name-display>Janice Parkinson</contributor-name-display>
            <contributor-id type="github">jpabt</contributor-id>
        </contributor>

        <contributor id="renner.michael">
            <contributor-name-display>Michael Renner</contributor-name-display>
            <contributor-id type="github">terrorobe</contributor-id>
        </contributor>

        <contributor id="radman.eric">
            <contributor-name-display>Eric Radman</contributor-name-display>
            <contributor-id type="github">eradman</contributor-id>
        </contributor>

        <contributor id="shang.cynthia">
            <contributor-name-display>Cynthia Shang</contributor-name-display>
            <contributor-id type="github">cmwshang</contributor-id>
        </contributor>

        <contributor id="sharma.yogesh">
            <contributor-name-display>Yogesh Sharma</contributor-name-display>
            <contributor-id type="github">sharmay</contributor-id>
        </contributor>

        <contributor id="smith.greg">
            <contributor-name-display>Greg Smith</contributor-name-display>
            <contributor-id type="github">gregscds</contributor-id>
        </contributor>

        <contributor id="vernick.todd">
            <contributor-name-display>Todd Vernick</contributor-name-display>
            <contributor-id type="github">gintoddic</contributor-id>
        </contributor>

        <contributor id="vitale.michael">
            <contributor-name-display>Michael Vitale</contributor-name-display>
            <contributor-id type="github">MichaelDBA</contributor-id>
        </contributor>

        <contributor id="vondendriesch.adrian">
            <contributor-name-display>Adrian Vondendriesch</contributor-name-display>
            <contributor-id type="github">disco-stu</contributor-id>
        </contributor>

        <contributor id="wieck.jan">
            <contributor-name-display>Jan Wieck</contributor-name-display>
            <contributor-id type="github">wieck</contributor-id>
        </contributor>

        <contributor id="wilke.jens">
            <contributor-name-display>Jens Wilke</contributor-name-display>
        </contributor>
    </contributor-list>

    <release-list>
        <release date="XXXX-XX-XX" version="1.19dev" title="UNDER DEVELOPMENT">
            <release-test-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed an undefined variable when a module had no uncoverable code exceptions.</p>
                    </release-item>
                </release-bug-list>

                <release-refactor-list>
                    <release-item>
                        <p>Set <setting>--vm-max=2</setting> for CI.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2017-04-12" version="1.18" title="Stanza Upgrade, Refactoring, and Locking Improvements">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where read-only operations that used local worker processes (i.e. <cmd>restore</cmd>) were creating write locks that could interfere with parallel <cmd>archive-push</cmd>.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Added the stanza-upgrade command to provide a mechanism for upgrading a stanza after upgrading to a new major version of <postgres/>.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Added validation of <setting>pgbackrest.conf</setting> to display warnings if options are not valid or are not in the correct section.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Simplify locking scheme.  Now, only the master process will hold write locks (for <cmd>archive-push</cmd> and <cmd>backup</cmd> commands) and not all local and remote worker processes as before.</p>
                    </release-item>

                    <release-item>
                        <p>Refactor <code>Ini.pm</code> to facilitate testing.</p>
                    </release-item>

                    <release-item>
                        <p>Do not set timestamps of files in the backup directories to match timestamps in the cluster directory.  This was originally done to enable backup resume, but that process is now implemented with checksums.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="sharma.yogesh"/>
                        </release-item-contributor-list>

                        <p>Improved error message when the <cmd>restore</cmd> command detects the presence of <file>postmaster.pid</file>.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="sharma.yogesh"/>
                        </release-item-contributor-list>

                        <p>Renumber return codes between 25 and 125 to avoid PostgreSQL interpreting some as fatal signal exceptions.</p>
                    </release-item>

                    <release-item>
                        <p>The <cmd>backup</cmd> and <cmd>restore</cmd> commands no longer copy via temp files.  In both cases the files are checksummed on resume so there's no danger of partial copies.</p>
                    </release-item>

                    <release-item>
                        <p>Allow functions to accept optional parameters as a hash.</p>
                    </release-item>

                    <release-item>
                        <p>Refactor <code>File->list()</code> and <code>fileList()</code> to accept optional parameters.</p>
                    </release-item>

                    <release-item>
                        <p>Refactor <code>backupLabel()</code> and add unit tests.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Silence some perl critic warnings.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-refactor-list>
                    <release-item>
                        <p>Update wording for release note sections.</p>
                    </release-item>

                    <release-item>
                        <p>Ignore clock skew in container libc/package builds using make.  It is common for containers to have clock skew so the build process takes care of this issue independently.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>

            <release-test-list>
                <release-refactor-list>
                    <release-item>
                        <p>Complete statement/branch coverage for <code>Ini.pm</code>.</p>
                    </release-item>

                    <release-item>
                        <p>Improved functions used to test/munge manifest and info files.</p>
                    </release-item>

                    <release-item>
                        <p>Coverage testing always enabled on Debian-based containers.</p>
                    </release-item>

                    <release-item>
                        <p>Require description in every call to <code>testResult()</code>.</p>
                    </release-item>

                    <release-item>
                        <p>Make <code>iWaitSeconds</code> an optional parameter for <code>testResult()</code>.</p>
                    </release-item>

                    <release-item>
                        <p>Updated vagrant to new version and image.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed flapping archive stop tests.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Added ability to test warning messages.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2017-03-13" version="1.17" title="Page Checksum Bug Fix">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where newly initialized (but unused) pages would cause page checksum warnings.</p>
                    </release-item>
                </release-bug-list>
            </release-core-list>
        </release>

        <release date="2017-03-02" version="1.16" title="Page Checksum Improvements, CI, and Package Testing">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where tables over 1GB would report page checksum warnings after the first segment.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="lobrÃ©au.benoit"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where databases created with a non-default tablespace would raise bogus warnings about <file>pg_filenode.map</file> and <file>pg_internal.init</file> not being page aligned.</p>
                    </release-item>
                </release-bug-list>

                <release-refactor-list>
                    <release-item>
                        <p>Improved the code and tests for <code>fileManifest()</code> to prevent a possible race condition when files are removed by the database while the manifest is being built.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-refactor-list>
                    <release-item>
                        <p>Container executions now load the user's environment.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>

            <release-test-list>
                <release-feature-list>
                    <release-item>
                        <p>Continuous integration using <id>travis-ci</id>.</p>
                    </release-item>

                    <release-item>
                        <p>Automated builds of Debian packages for all supported distributions.</p>
                    </release-item>

                    <release-item>
                        <p>Added <setting>--dev</setting> option to aggregate commonly used dev options.</p>
                    </release-item>

                    <release-item>
                        <p>Added <setting>--retry</setting> option.</p>
                    </release-item>

                    <release-item>
                        <p>Added <setting>--no-package</setting> option to skip package builds.</p>
                    </release-item>

                    <release-item>
                        <p>C library and packages are built by default, added <setting>-smart</setting> option to rebuild only when file changes are detected.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>The <setting>--libc-only</setting> option has been changed to <setting>--build-only</setting> now that packages builds have been added.</p>
                    </release-item>

                    <release-item>
                        <p>Improved formatting of <code>testResult()</code> output.</p>
                    </release-item>

                    <release-item>
                        <p>Improved truncation when outputting errors logs in the <code>ExecuteTest</code> module.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed flapping archive-stop test with <code>testResult()</code> retries.</p>
                    </release-item>

                    <release-item>
                        <p>Added final test of archive contents to archive-push test.</p>
                    </release-item>

                    <release-item>
                        <p>Temporarily disable flapping keep-alive test.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2017-02-13" version="1.15" title="Refactoring and Bug Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="golpayegani.navid"/>
                        </release-item-contributor-list>

                        <p>Fixed a regression introduced in <id>v1.13</id> that could cause backups to fail if files were removed (e.g. tables dropped) while the manifest was being built.</p>
                    </release-item>
                </release-bug-list>

                <release-refactor-list>
                    <release-item>
                        <p>Refactor <code>FileCommon::fileManifest()</code> and <code>FileCommon::fileStat</code> to be more modular to allow complete branch/statement level coverage testing.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-test-list>
                <release-feature-list>
                    <release-item>
                        <p>Complete branch/statement level coverage testing for <code>FileCommon::fileManifest()</code> and <code>FileCommon::fileStat</code> functions and helper functions.</p>
                    </release-item>
                </release-feature-list>
            </release-test-list>
        </release>

        <release date="2017-02-13" version="1.14" title="Refactoring and Bug Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where an archive-push error would not be retried and would instead return errors to <postgres/> indefinitely (unless the <file>.error</file> file was manually deleted).</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Fixed a race condition in parallel archiving where creation of new paths generated an error when multiple processes attempted to do so at the same time.</p>
                    </release-item>
                </release-bug-list>

                <release-refactor-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Improved performance of <id>wal archive min/max</id> provided by the <cmd>info</cmd> command.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Updated async archiving documentation to more accurately describe how the new method works and how it differs from the old method.</p>
                    </release-item>

                    <release-item>
                        <p>Documentation can now be built with reusable blocks to reduce duplication.</p>
                    </release-item>

                    <release-item>
                        <p>Improved support for <setting>--require</setting> option and section depends now default to the previous section.</p>
                    </release-item>

                    <release-item>
                        <p>Added ability to pass options to containers within the documentation.</p>
                    </release-item>

                    <release-item>
                        <p>Add <code>proper</code> tag to slightly emphasize proper nouns.</p>
                    </release-item>
                </release-feature-list>
            </release-doc-list>
        </release>

        <release date="2017-02-05" version="1.13" title="Parallel Archiving, Stanza Create, Improved Info and Check">
            <release-core-list>
                <p><b>IMPORTANT NOTE</b>: The new implementation of asynchronous archiving no longer copies WAL to a separate queue. If there is any WAL left over in the old queue after upgrading to <id>1.13</id>, it will be abandoned and <b>not</b> pushed to the repository.

                To prevent this outcome, stop archiving by setting <setting>archive_command = false</setting>. Next, drain the async queue by running <code>pgbackrest --stanza=[stanza-name] archive-push</code> and wait for the process to complete.  Check that the queue in <path>[spool-path]/archive/[stanza-name]/out</path> is empty. Finally, install <code>1.13</code> and restore the original <setting>archive_command</setting>.

                <b>IMPORTANT NOTE</b>: The <cmd>stanza-create</cmd> command is not longer optional and must be executed before backup or archiving can be performed on a <b>new</b> stanza.  Pre-existing stanzas do not require <cmd>stanza-create</cmd> to be executed.</p>

                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="vondendriesch.adrian"/>
                        </release-item-contributor-list>

                        <p>Fixed const assignment giving compiler warning in C library.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed a few directory syncs that were missed for the <br-option>--repo-sync</br-option> option.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="avellar.leonardo"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where a missing user/group on restore could cause an <quote>uninitialized value</quote> error in <code>File->owner()</code>.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where protocol mismatch errors did not output the expected value.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed a spurious <cmd>archive-get</cmd> log message that indicated an exit code of 1 was an abnormal termination.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Improved, multi-process implementation of asynchronous archiving.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Improved <cmd>stanza-create</cmd> command so that it can repair broken repositories in most cases and is robust enough to be made mandatory.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Improved <cmd>check</cmd> command to run on a standby, though only basic checks are done because <code>pg_switch_xlog()</code> cannot be executed on a replica.</p>
                    </release-item>

                    <release-item>
                        <p>Added archive and backup WAL ranges to the <cmd>info</cmd> command.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="lobrÃ©au.benoit"/>
                        </release-item-contributor-list>

                        <p>Added warning to update <code>pg_tablespace.spclocation</code> when remapping tablespaces in <postgres/> &lt; 9.2.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vitale.michael"/>
                        </release-item-contributor-list>

                        <p>Remove remote lock requirements for the <cmd>archive-get</cmd>, <cmd>restore</cmd>, <cmd>info</cmd>, and <cmd>check</cmd> commands since they are read-only operations.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Refactor <code>File</code> and <code>BackupCommon</code> modules to improve test coverage.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="sharma.yogesh"/>
                        </release-item-contributor-list>

                        <p>Return proper error code when unable to convert a relative path to an absolute path.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Log file banner is not output until the first log entry is written.</p>
                    </release-item>

                    <release-item>
                        <p>Moved <code>File->manifest()</code> into the <code>FileCommon.pm</code> module.</p>
                    </release-item>

                    <release-item>
                        <p>Moved the <code>Archive</code> modules to the <path>Archive</path> directory and split the <cmd>archive-get</cmd> and <cmd>archive-push</cmd> commands into separate modules.</p>
                    </release-item>

                    <release-item>
                        <p>Split the <cmd>check</cmd> command out of the <code>Archive.pm</code> module.</p>
                    </release-item>

                    <release-item>
                        <p>Allow logging to be suppressed via <code>logDisable()</code> and <code>logEnable()</code>.</p>
                    </release-item>

                    <release-item>
                        <p>Allow for locks to be taken more than once in the same process without error.</p>
                    </release-item>

                    <release-item>
                        <p>Lock directories can be created when more than one directory level is required.</p>
                    </release-item>

                    <release-item>
                        <p>Clean up <code>optionValid()</code>/<code>optionTest()</code> logic in <code>Lock.pm</code>.</p>
                    </release-item>

                    <release-item>
                        <p>Added <code>Exception::exceptionCode()</code> and <code>Exception::exceptionMessage()</code> to simplify error handling logic.</p>
                    </release-item>

                    <release-item>
                        <p>Represent <file>.gz</file> extension with a constant.</p>
                    </release-item>

                    <release-item>
                        <p>Allow empty files to be created with <code>FileCommon::fileStringWrite()</code> and use temp files to avoid partial reads.</p>
                    </release-item>

                    <release-item>
                        <p>Refactor process IO and process master/minion code out from the common protocol code.</p>
                    </release-item>

                    <release-item>
                        <p>Reduced the likelihood of torn pages causing a false positive in page checksums by filtering on start backup LSN.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="vondendriesch.adrian"/>
                        </release-item-contributor-list>

                        <p>Remove Intel-specific optimization from C library build flags.</p>
                    </release-item>

                    <release-item>
                        <p>Removed <br-option>--lock</br-option> option.  This option was introduced before the lock directory could be located outside the repository and is now obsolete.</p>
                    </release-item>

                    <release-item>
                        <p>Added <br-option>--log-timestamp</br-option> option to allow timestamps to be suppressed in logging.  This is primarily used to avoid filters in the automated documentation.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed alignment issues with multiline logging.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Added documentation to the User Guide for the <br-option>process-max</br-option> option.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Update LICENSE.txt for 2017.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>

            <release-test-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed <br-option>--no-online</br-option> tests to suppress expected errors.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Added integration for testing coverage with <code>Devel::Cover</code>.</p>
                    </release-item>

                    <release-item>
                        <p>Added unit tests for low-level functions in the <code>File</code> and <code>BackupCommon</code> modules.</p>
                    </release-item>

                    <release-item>
                        <p>C Library builds only run when C library has actually changed.</p>
                    </release-item>

                    <release-item>
                        <p>Added more flexibility in initializing and cleaning up after modules and tests.</p>
                    </release-item>

                    <release-item>
                        <p><code>testResult()</code> suppresses logging and reports exceptions.</p>
                    </release-item>

                    <release-item>
                        <p><code>testException()</code> allows messages to be matched with regular expressions.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Split test modules into separate files to make the code more maintainable.  Tests are dynamically loaded by name rather than requiring an if-else block.</p>
                    </release-item>

                    <release-item>
                        <p>Allow multiple <setting>--module</setting>, <setting>--test</setting>, and <setting>--run</setting> options to be used for <file>test.pl</file>.</p>
                    </release-item>

                    <release-item>
                        <p>Added expect log expression to replace year subdirectories in <path>backup.history</path>.</p>
                    </release-item>

                    <release-item>
                        <p>Refactor name/locations of common modules that setup test environments.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2016-12-12" version="1.12" title="Page Checksums, Configuration, and Bug Fixes">
            <release-core-list>
                 <p><b>IMPORTANT NOTE</b>: In prior releases it was possible to specify options on the command-line that were invalid for the current command without getting an error.  An error will now be generated for invalid options so it is important to carefully check command-line options in your environment to prevent disruption.</p>

                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="kulkarni.nikhilchandra"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where options that were invalid for the specified command could be provided on the command-line without generating an error.  The options were ignored and did not cause any change in behavior, but it did lead to some confusion.  Invalid options will now generate an error.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where internal symlinks were not being created for tablespaces in the repository.  This issue was only apparent when trying to bring up clusters in-place manually using filesystem snapshots and did not affect normal backup and restore.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vondendriesch.adrian"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue that prevented errors from being output to the console before the logging system was initialized, i.e. while parsing options. Error codes were still being returned accurately so this would not have made a process look like it succeeded when it did not.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vitale.michael"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where the <br-option>db-port</br-option> option specified on the backup server would not be properly passed to the remote unless it was from the first configured database.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Added the <br-option>--checksum-page</br-option> option to allow pgBackRest to validate page checksums in data files when checksums are enabled on <postgres/> >= 9.3.  Note that this functionality requires a C library which may not initially be available in OS packages.  The option will automatically be enabled when the library is present and checksums are enabled on the cluster.</p>
                    </release-item>

                    <release-item>
                        <p>Added the <br-option>--repo-link</br-option> option to allow internal symlinks to be suppressed when the repository is located on a filesystem that does not support symlinks.  This does not affect any <backrest/> functionality, but the convenience link <path>latest</path> will not be created and neither will internal tablespace symlinks, which will affect the ability to bring up clusters in-place manually using filesystem snapshots.</p>
                    </release-item>

                    <release-item>
                        <p>Added the <br-option>--repo-sync</br-option> option to allow directory syncs in the repository to be disabled for file systems that do not support them, e.g. NTFS.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Added a predictable log entry to signal that a command has completed successfully. For example a backup ends successfully with: <code>INFO: backup command end: completed successfully</code>.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Abstracted code to determine which database cluster is the master and which are standbys.</p>
                    </release-item>

                    <release-item>
                        <p>Improved consistency and flexibility of the protocol layer by using JSON for all messages.</p>
                    </release-item>

                    <release-item>
                        <p>File copy protocol now accepts a function that can do additional processing on the copy buffers and return a result to the calling process.</p>
                    </release-item>

                    <release-item>
                        <p>Improved <code>IO->bufferRead</code> to always return requested number of bytes until EOF.</p>
                    </release-item>

                    <release-item>
                        <p>For simplicity, the <file>pg_control</file> file is now copied with the rest of the files instead of by itself of at the end of the process.  The <cmd>backup</cmd> command does not require this behavior and the <cmd>restore</cmd> copies to a temporary file which is renamed at the end of the restore.</p>
                    </release-item>

                    <release-item>
                        <p>Simplified the result hash of <code>File->manifest()</code>, <code>Db->tablespaceMapGet()</code>, and <code>Db->databaseMapGet()</code>.</p>
                    </release-item>

                    <release-item>
                        <p>Improved errors returned from child processes by removing redundant error level and code.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Code cleanup in preparation for improved <cmd>stanza-create</cmd> command.</p>
                    </release-item>

                    <release-item>
                        <p>Improved parameter/result logging in debug/trace functions.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed an issue that suppressed exceptions in PDF builds.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed regression in section links introduced in <id>v1.10</id>.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Added Retention to QuickStart section.</p>
                    </release-item>

                    <release-item>
                        <p>Allow a source to be included as a section so large documents can be broken up.</p>
                    </release-item>

                    <release-item>
                        <p>Added section link support to Markdown output.</p>
                    </release-item>

                    <release-item>
                        <p>Added list support to PDF output.</p>
                    </release-item>

                    <release-item>
                        <p>Added <setting>include</setting> option to explicitly build sources (complements the <setting>exclude</setting> option though both cannot be used in the same invocation).</p>
                    </release-item>

                    <release-item>
                        <p>Added <setting>keyword-add</setting> option to add keywords without overriding the <id>default</id> keyword.</p>
                    </release-item>

                    <release-item>
                        <p>Added <setting>debug</setting> option to <file>doc.pl</file> to easily add the <id>debug</id> keyword to documentation builds.</p>
                    </release-item>

                    <release-item>
                        <p>Added <setting>pre</setting> option to <file>doc.pl</file> to easily add the <id>pre</id> keyword to documentation builds.</p>
                    </release-item>

                    <release-item>
                        <p>Builds in <file>release.pl</file> now remove all docker containers to get consistent IP address assignments.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Improvements to markdown rendering.</p>
                    </release-item>

                    <release-item>
                        <p>Remove code dependency on <id>project</id> variable, instead use <id>title</id> param.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>

            <release-test-list>
                <release-bug-list>
                    <release-item>
                        <p>Removed erroneous <br-option>--no-config</br-option> option in <id>help</id> test module.</p>
                    </release-item>
                </release-bug-list>

                <release-refactor-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Update control and WAL test files to <id>9.4</id> with matching system identifiers.</p>
                    </release-item>

                    <release-item>
                        <p>Improved exception handling in file unit tests.</p>
                    </release-item>

                    <release-item>
                        <p>Changed the <br-option>--no-fork</br-option> test option to <br-option>--fork</br-option> with negation to match all other boolean parameters.</p>
                    </release-item>

                    <release-item>
                        <p>Various improvements to validation of backup and restore.</p>
                    </release-item>

                    <release-item>
                        <p>Add more realistic data files to synthetic backup and restore tests.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2016-11-17" version="1.11" title="Bug Fix for Asynchronous Archiving Efficiency">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where asynchronous archiving was transferring one file per execution instead of transferring files in batches.  This regression was introduced in <id>v1.09</id> and affected efficiency only, all WAL segments were correctly archived in asynchronous mode.</p>
                    </release-item>
                </release-bug-list>
            </release-core-list>
        </release>

        <release date="2016-11-08" version="1.10" title="Stanza Creation and Minor Bug Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed an issue where a backup could error if no changes were made to a database between backups and only <file>pg_control</file> changed.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="kulkarni.nikhilchandra"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where tablespace paths with the same prefix would cause an invalid link error.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Added the <cmd>stanza-create</cmd> command to formalize creation of stanzas in the repository.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="gunduz.devrim"/>
                        </release-item-contributor-list>

                        <p>Removed extraneous <code>use lib</code> directives from Perl modules.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed missing variable replacements.</p>
                    </release-item>

                    <release-item>
                        <p>Removed hard-coded host names from configuration file paths.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Allow command-line length to be configured using <id>cmd-line-len</id> param.</p>
                    </release-item>

                    <release-item>
                        <p>Added <id>compact</id> param to allow CSS to be embedded in HTML file.</p>
                    </release-item>

                    <release-item>
                        <p>Added <id>pretty</id> param to produce HTML with proper indenting.</p>
                    </release-item>

                    <release-item>
                        <p>Only generate HTML menu when required and don't require index page.</p>
                    </release-item>

                    <release-item>
                        <p>Assign numbers to sections by default.</p>
                    </release-item>

                    <release-item>
                        <p>VM mount points are now optional.</p>
                    </release-item>
                </release-feature-list>
            </release-doc-list>
        </release>

        <release date="2016-10-10" version="1.09" title="9.6 Support, Configurability, and Bug Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Fixed the <cmd>check</cmd> command to prevent an error message from being logged if the backup directory does not exist.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="odonnell.jason"/>
                        </release-item-contributor-list>

                        <p>Fixed error message to properly display the archive command when an invalid archive command is detected.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where the async archiver would not be started if <cmd>archive-push</cmd> did not have enough space to queue a new WAL segment.  This meant that the queue would never be cleared without manual intervention (such as calling <cmd>archive-push</cmd> directly).  <postgres/> now receives errors when there is not enough space to store new WAL segments but the async process will still be started so that space is eventually freed.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Fixed a remote timeout that occurred when a local process generated checksums (during resume or restore) but did not copy files, allowing the remote to go idle.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Non-exclusive backups will automatically be used on <postgres/> 9.6.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Added the <br-option>cmd-ssh</br-option> option to allow the ssh client to be specified.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="biberhofer.sascha"/>
                        </release-item-contributor-list>

                        <p>Added the <br-option>log-level-stderr</br-option> option to control whether console log messages are sent to <id>stderr</id> or <id>stdout</id>.  By default this is set to <setting>warn</setting> which represents a change in behavior from previous versions, even though it may be more intuitive.  Setting <br-option>log-level-stderr=off</br-option> will preserve the old behavior.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Set <id>application_name</id> to <id>"pgBackRest [command]"</id> for database connections.</p>
                    </release-item>

                    <release-item>
                        <p>Check that archive_mode is enabled when <br-option>archive-check</br-option> option enabled.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>Clarified error message when unable to acquire <backrest/> advisory lock to make it clear that it is not a <postgres/> backup lock.</p>
                    </release-item>

                    <release-item>
                        <p><backrest/> version number included in command start INFO log output.</p>
                    </release-item>

                    <release-item>
                        <p>Process ID logged for local process start/stop INFO log output.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Added <br-option>archive-timeout</br-option> option documentation to the user guide.</p>
                    </release-item>

                    <release-item>
                        <p>Added <setting>dev</setting> option to <file>doc.pl</file> to easily add the <id>dev</id> keyword to documentation builds.</p>
                    </release-item>
                </release-feature-list>
            </release-doc-list>

            <release-test-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed missing expect output for help module.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed broken <id>vm-max</id> option in <file>test.pl</file>.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Update CentOS/Debian package definitions.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Regression tests can now be run as any properly-configured user, not just vagrant.</p>
                    </release-item>

                    <release-item>
                        <p>Miminize TeXLive package list to save time during VM builds.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2016-09-14" version="1.08" title="Bug Fixes and Log Improvements">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vernick.todd"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where local processes were not disconnecting when complete and could later timeout.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vernick.todd"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where the protocol layer could timeout while waiting for WAL segments to arrive in the archive.</p>
                    </release-item>
                </release-bug-list>

                <release-refactor-list>
                    <release-item>
                        <p>Cache file log output until the file is created to create a more complete log.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-refactor-list>
                    <release-item>
                        <p>Show Process ID in output instead of filtering it out with the timestamp.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>

            <release-test-list>
                <release-refactor-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="harvey.john"/>
                        </release-item-contributor-list>

                        <p>Suppress <quote>dpkg-reconfigure: unable to re-open stdin: No file or directory</quote> warning in Vagrant VM build.</p>
                    </release-item>

                    <release-item>
                        <p>Show Process ID in expect logs instead of filtering it out with the timestamp.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2016-09-07" version="1.07" title="Thread to Process Conversion and Bug Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed an issue where tablespaces were copied from the master during standby backup.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Fixed the <cmd>check</cmd> command so backup info is checked remotely and not just locally.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where <br-option>retention-archive</br-option> was not automatically being set when <br-option>retention-archive-type=diff</br-option>, resulting in a less aggressive than intended expiration of archive.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Converted Perl threads to processes to improve compatibility and performance.</p>
                    </release-item>

                    <release-item>
                        <p>Exclude contents of <path>$PGDATA/pg_replslot</path> directory so that replication slots on the master do not become part of the backup.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wilke.jens"/>
                        </release-item-contributor-list>

                        <p>The <setting>archive-start</setting> and <setting>archive-stop</setting> settings are now filled in <file>backup.manifest</file> even when <br-option>archive-check=n</br-option>.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Additional warnings when archive retention settings may not have the intended effect or would allow indefinite retention.</p>
                    </release-item>

                    <release-item>
                        <p>Experimental support for non-exclusive backups in <postgres/> 9.6 rc1.  Changes to the control/catalog/WAL versions in subsequent release candidates may break compatibility but <backrest/> will be updated with each release to keep pace.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Refactor of protocol minions in preparation for the new local minion.</p>
                    </release-item>

                    <release-item>
                        <p>Remove obsolete thread index variable from <code>File()</code> module.</p>
                    </release-item>

                    <release-item>
                        <p>Changed temporary file names to consistently use the <file>.pgbackrest.tmp</file> extension even if the destination file is compressed or has an appended checksum.</p>
                    </release-item>

                    <release-item>
                        <p>Improve ASSERT error handling, safely check eval blocks, and convert <code>$@</code> to <code>$EVAL_ERROR</code>.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed minor documentation reproducibility issues related to binary paths.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Documentation for archive retention.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Suppress TOC for unsupported versions of <backrest/>.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>

            <release-test-list>
                <release-refactor-list>
                    <release-item>
                        <p>New vagrant base box and make uid/gid selection for containers dynamic.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2016-08-25" version="1.06" title="Backup from Standby and Bug Fixes">
             <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vitale.michael"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where a tablespace link that referenced another link would not produce an error, but instead skip the tablespace entirely.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vitale.michael"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where options that should not allow multiple values could be specified multiple times in <file>pgbackrest.conf</file> without an error being raised.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vernick.todd"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where the <br-option>protocol-timeout</br-option> option was not automatically increased when the <br-option>db-timeout</br-option> option was increased.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Backup from a standby cluster.  A connection to the primary cluster is still required to start/stop the backup and copy files that are not replicated, but the vast majority of files are copied from the standby in order to reduce load on the master.</p>
                    </release-item>

                    <release-item>
                        <p>More flexible configuration for databases.  Master and standby can both be configured on the backup server and <backrest/> will automatically determine which is the master.  This means no configuration changes for backup are required after failing over from a master to standby when a separate backup server is used.</p>
                    </release-item>

                    <release-item>
                        <p>Exclude directories during backup that are cleaned, recreated, or zeroed by <postgres/> at startup.  These include <path>pgsql_tmp</path> and <path>pg_stat_tmp</path>.  The <file>postgresql.auto.conf.tmp</file> file is now excluded in addition to files that were already excluded: <file>backup_label.old</file>, <file>postmaster.opts</file>, <file>postmaster.pid</file>, <file>recovery.conf</file>, <file>recovery.done</file>.</p>
                    </release-item>

                    <release-item>
                        <p>Experimental support for non-exclusive backups in <postgres/> 9.6 beta4.  Changes to the control/catalog/WAL versions in subsequent betas may break compatibility but <backrest/> will be updated with each release to keep pace.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Simplify protocol creation and identifying which host is local/remote.</p>
                    </release-item>

                    <release-item>
                        <p>Removed all <code>OP_*</code> function constants that were used only for debugging, not in the protocol, and replaced with <code>__PACKAGE__</code>.</p>
                    </release-item>

                    <release-item>
                        <p>Improvements in <code>Db</code> module: separated out <code>connect()</code> function, allow <code>executeSql()</code> calls that do not return data, and improve error handling.</p>
                    </release-item>

                    <release-item>
                        <p>Improve error message for links that reference links in manifest build.</p>
                    </release-item>

                    <release-item>
                        <p>Added hints to error message when relative paths are detected in <cmd>archive-push</cmd> or <cmd>archive-get</cmd>.</p>
                    </release-item>

                    <release-item>
                        <p>Improve backup log messages to indicate which host the files are being copied from.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

             <release-doc-list>
                 <release-refactor-list>
                    <release-item>
                        <p>Improve host tag rendering.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>

             <release-test-list>
                 <release-refactor-list>
                    <release-item>
                        <p>Refactor db version constants into a separate module.</p>
                    </release-item>

                    <release-item>
                        <p>Update synthetic backup tests to <postgres/> 9.4.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2016-08-09" version="1.05" title="Bug Fix for Tablespace Link Checking">
             <release-core-list>
                 <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="fort.chris"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where tablespace paths that had $PGDATA as a substring would be identified as a subdirectories of $PGDATA even when they were not.  Also hardened relative path checking a bit.</p>
                    </release-item>
                </release-bug-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Added documentation for scheduling backups with cron.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Moved the backlog from the <backrest/> website to the GitHub repository wiki.</p>
                    </release-item>

                    <release-item>
                        <p>Improved rendering of spaces in code blocks.</p>
                    </release-item>
                 </release-refactor-list>
            </release-doc-list>
        </release>

         <release date="2016-07-30" version="1.04" title="Various Bug Fixes">
             <release-core-list>
                 <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vitale.michael"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue an where an extraneous remote was created causing threaded backup/restore to possibly timeout and/or throw a lock conflict.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vitale.michael"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where db-path was not required for the <cmd>check</cmd> command so an assert was raised when it was missing rather than a polite error message.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="steele.david"/>
                            <release-item-contributor id="shang.cynthia"/>
                            <release-item-reviewer id="steele.david"/>
                        </release-item-contributor-list>

                        <p>Fixed <cmd>check</cmd> command to throw an error when database version/id does not match that of the archive.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="lardiere.sebastien"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where a remote could try to start its own remote when the <br-option>backup-host</br-option> option was not present in <file>pgbackrest.conf</file> on the database server.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where the contents of <path>pg_xlog</path> were being backed up if the directory was symlinked.  This didn't cause any issues during restore but was a waste of space.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an invalid <code>log()</code> call in lock routines.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Experimental support for non-exclusive backups in <postgres/> 9.6 beta3.  Changes to the control/catalog/WAL versions in subsequent betas may break compatibility but <backrest/> will be updated with each release to keep pace.</p>
                    </release-item>
                </release-feature-list>

                 <release-refactor-list>
                    <release-item>
                        <p>Enhancements to the protocol layer for improved reliability and error handling.</p>
                    </release-item>

                    <release-item>
                        <p>All remote types now take locks.  The exceptions date to when the test harness and <backrest/> were running in the same VM and no longer apply.</p>
                    </release-item>

                    <release-item>
                        <p>Exceptions are now passed back from threads as messages when possible rather than raised directly.</p>
                    </release-item>

                    <release-item>
                        <p>Temp files created during backup are now placed in the same directory as the target file.</p>
                    </release-item>

                    <release-item>
                        <p>Output lock file name when a lock cannot be acquired to aid in debugging.</p>
                    </release-item>

                    <release-item>
                        <p>Reduce calls to <code>protocolGet()</code> in backup/restore.</p>
                    </release-item>

                    <release-item>
                        <p>Suppress banners on SSH protocol connections.</p>
                    </release-item>

                    <release-item>
                        <p>Improved remote error messages to identify the host where the error was raised.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

             <release-doc-list>
                 <release-feature-list>
                    <release-item>
                        <p>Added <file>release.pl</file> to make releases reproducible.  For now this only includes building and deploying documentation.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vitale.michael"/>
                        </release-item-contributor-list>

                        <p>Added clarification on why the default for the <br-option>backrest-user</br-option> option is <id>backrest</id>.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vitale.michael"/>
                        </release-item-contributor-list>

                        <p>Updated information about package availability on supported platforms.</p>
                    </release-item>
                </release-feature-list>

                 <release-refactor-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vondendriesch.adrian"/>
                            <release-item-contributor id="steele.david"/>
                        </release-item-contributor-list>

                        <p>HTML footer dates are statically created in English in order to be reproducible.</p>
                    </release-item>
                 </release-refactor-list>
            </release-doc-list>

             <release-test-list>
                 <release-bug-list>
                    <release-item>
                        <p>Fixed a version checking issue in <file>test.pl</file>.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where multi-threaded tests were not being run when requested.</p>
                    </release-item>
                </release-bug-list>

                 <release-refactor-list>
                    <release-item>
                        <p>Reduce the frequency that certain tests are run to save time in regression.</p>
                    </release-item>

                    <release-item>
                        <p>Disable control master for older OS versions where it is less stable.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
         </release>

         <release date="2016-07-02" version="1.03" title="Check Command and Bug Fixes">
             <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="parkinson.janice"/>
                            <release-item-ideator id="barber.chris"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where <id>keep-alives</id> could be starved out by lots of small files during multi-threaded <cmd>backup</cmd>.  They were also completely absent from single/multi-threaded <cmd>backup</cmd> resume and <cmd>restore</cmd> checksumming.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="barber.chris"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where the <cmd>expire</cmd> command would refuse to run when explicitly called from the command line if the <br-option>db-host</br-option> option was set.  This was not an issue when <cmd>expire</cmd> was run automatically after a <cmd>backup</cmd></p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where validation was being running on <pg-setting>archive_command</pg-setting> even when the <br-option>archive-check</br-option> option was disabled.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="steele.david"/>
                            <release-item-contributor id="shang.cynthia"/>
                            <release-item-reviewer id="steele.david"/>
                        </release-item-contributor-list>

                        <p>Added <cmd>check</cmd> command to validate that <backrest/> is configured correctly for archiving and backups.</p>
                    </release-item>

                    <release-item>
                        <p>Added the <br-option>protocol-timeout</br-option> option.  Previously <br-option>protocol-timeout</br-option> was set as <br-option>db-timeout</br-option> + 30 seconds.</p>
                    </release-item>

                    <release-item>
                        <p>Failure to shutdown remotes at the end of the backup no longer throws an exception.  Instead a warning is generated that recommends a higher <br-option>protocol-timeout</br-option>.</p>
                    </release-item>

                    <release-item>
                        <p>Experimental support for non-exclusive backups in <postgres/> 9.6 beta2.  Changes to the control/catalog/WAL versions in subsequent betas may break compatibility but <backrest/> will be updated with each release to keep pace.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>The <code>pg_xlogfile_name()</code> function is no longer used to construct WAL filenames from LSNs. While this function is convenient it is not available on a standby.  Instead, the archive is searched for the LSN in order to find the timeline.  If due to some misadventure the LSN appears on multiple timelines then an error will be thrown, whereas before this condition would have passed unnoticed.</p>
                    </release-item>

                    <release-item>
                        <p>Option handling is now far more strict.  Previously it was possible for a command to use an option that was not explicitly assigned to it.  This was especially true for the <br-option>backup-host</br-option> and <br-option>db-host</br-option> options which are used to determine locality.</p>
                    </release-item>

                    <release-item>
                        <p>Improved handling of users/groups captured during backup that do not exist on the restore host.  Also explicitly handle the case where user/group is not mapped to a name.</p>
                    </release-item>

                    <release-item>
                        <p>Changed version variable to a constant.  It had originally been designed to play nice with a specific packaging tool but that tool was never used.</p>
                    </release-item>
                </release-refactor-list>
             </release-core-list>

             <release-doc-list>
                 <release-bug-list>
                    <release-item>
                        <p>Fixed DTD search path that did not work properly when <setting>--doc-path</setting> was used.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed <backrest/>-specific xml that was loaded for non-<backrest/> projects.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed section names being repeated in the info output when multiple <br-option>--require</br-option> options depended on the same sections.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed <backrest/> config sections being blank in the output when not loaded from cache.</p>
                    </release-item>
                </release-bug-list>

                 <release-feature-list>
                    <release-item>
                        <p>Allow hidden options to be added to a command.  This allows certain commands (like <id>apt-get</id>) to be forced during the build without making that a part of the documentation.</p>
                    </release-item>

                    <release-item>
                        <p>Allow command summaries to be inserted anywhere in the documentation to avoid duplication.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vondendriesch.adrian"/>
                            <release-item-contributor id="steele.david"/>
                        </release-item-contributor-list>

                        <p>Allow a static date to be used for documentation to generate reproducible builds.</p>
                    </release-item>

                    <release-item>
                        <p>Update TeX Live to 2016 version.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="shang.cynthia"/>
                            <release-item-reviewer id="steele.david"/>
                        </release-item-contributor-list>

                        <p>Added documentation for asynchronous archiving to the user guide.</p>
                    </release-item>
                </release-feature-list>

                 <release-refactor-list>
                    <release-item>
                        <p>Recommended install location for <backrest/> modules is now <path>/usr/share/perl5</path> since <path>/usr/lib/perl5</path> has been removed from the search path in newer versions of Perl.</p>
                    </release-item>

                    <release-item>
                        <p>Added instructions for removing prior versions of <backrest/>.</p>
                    </release-item>

                    <release-item>
                        <p>New, consolidated implementation for link rendering.</p>
                    </release-item>

                    <release-item>
                        <p><postgres/> version is now a variable to allow multi-version documentation.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>

             <release-test-list>
                 <release-feature-list>
                    <release-item>
                        <p>Obsolete containers are removed by the <br-option>--vm-force</br-option> option.</p>
                    </release-item>
                </release-feature-list>

                 <release-refactor-list>
                    <release-item>
                        <p>Major refactor of the test suite to make it more modular and object-oriented.  Multiple Docker containers can now be created for a single test to simulate more realistic environments.  Tests paths have been renamed for clarity.</p>
                    </release-item>

                    <release-item>
                        <p>Greatly reduced the quantity of Docker containers built by default.  Containers are only built for <postgres/> versions specified in <id>db-minimal</id> and those required to build documentation. Additional containers can be built with <br-option>--db-version=all</br-option> or by specifying a version, e.g. <br-option>--db-version=9.4</br-option>.</p>
                    </release-item>
                 </release-refactor-list>
             </release-test-list>
         </release>

         <release date="2016-06-02" version="1.02" title="Bug Fix for Perl 5.22">
             <release-core-list>
                 <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="vondendriesch.adrian"/>
                            <release-item-reviewer id="steele.david"/>
                        </release-item-contributor-list>

                        <p>Fix usage of sprintf() due to new constraints in Perl 5.22. Parameters not referenced in the format string are no longer allowed.</p>
                    </release-item>
                </release-bug-list>

                 <release-refactor-list>
                    <release-item>
                        <p>Log directory create and file open now using FileCommon functions which produce more detailed error messages on failure.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

             <release-doc-list>
                 <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="berg.christoph"/>
                            <release-item-contributor id="vondendriesch.adrian"/>
                            <release-item-reviewer id="steele.david"/>
                        </release-item-contributor-list>

                        <p>Fixed syntax that was not compatible with Perl 5.2X.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="vondendriesch.adrian"/>
                        </release-item-contributor-list>

                        <p>Fixed absolute paths that were used for the PDF logo.</p>
                    </release-item>
                </release-bug-list>

                 <release-feature-list>
                    <release-item>
                        <p>Release notes are now broken into sections so that bugs, features, and refactors are clearly delineated.  An <quote>Additional Notes</quote> section has been added for changes to documentation and the test suite that do not affect the core code.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="vondendriesch.adrian"/>
                            <release-item-contributor id="steele.david"/>
                        </release-item-contributor-list>

                        <p>Added man page generation.</p>
                    </release-item>

                    <release-item>
                        <p>Added an execution cache so that documentation can be generated without setting up the full container environment.  This is useful for packaging, keeps the documentation consistent for a release, and speeds up generation when no changes are made in the execution list.</p>
                    </release-item>
                </release-feature-list>

                 <release-refactor-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="steele.david"/>
                            <release-item-contributor id="shang.cynthia"/>
                            <release-item-reviewer id="steele.david"/>
                        </release-item-contributor-list>

                        <p>The change log was the last piece of documentation to be rendered in Markdown only.  Wrote a converter so the document can be output by the standard renderers.  The change log will now be located on the website and has been renamed to <quote>Releases</quote>.</p>
                    </release-item>

                    <release-item>
                        <p>Remove function constants and pass strings directly to logDebugParam().  The function names were only used once so creating constants for them was wasteful.</p>
                    </release-item>

                    <release-item>
                        <p>Lists can now be used outside of <id>p</id> and <id>text</id> tags for more flexible document structuring.</p>
                    </release-item>
                </release-refactor-list>
             </release-doc-list>

             <release-test-list>
                 <release-bug-list>
                    <release-item>
                        <p>Replaced overzealous <code>perl -cW</code> check which failed on Perl 5.22 with <code>perl -cw</code>.</p>
                    </release-item>
                </release-bug-list>

                 <release-feature-list>
                    <release-item>
                        <p>Added Ubuntu 16.04 (Xenial) and Debian 8 (Jessie) to the regression suite.</p>
                    </release-item>

                    <release-item>
                        <p>Upgraded doc/test VM to Ubuntu 16.04.  This will help catch Perl errors in the doc code since it is not run across multiple distributions like the core and test code. It is also to be hoped that a newer kernel will make Docker more stable.</p>
                    </release-item>
                 </release-feature-list>

                 <release-refactor-list>
                    <release-item>
                        <p>Test release version against the executable using <file>change-log.xml</file> instead of <file>CHANGELOG.md</file>.</p>
                    </release-item>
                </release-refactor-list>
             </release-test-list>
         </release>

         <release date="2016-05-17" version="1.01" title="Enhanced Info, Selective Restore, and 9.6 Support">
             <release-core-list>
                 <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="steele.david"/>
                            <release-item-contributor id="shang.cynthia"/>
                            <release-item-reviewer id="steele.david"/>
                        </release-item-contributor-list>

                        <p>Enhanced text output of <cmd>info</cmd> command to include timestamps, sizes, and the reference list for all backups.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                            <!-- <release-item-contributor id="steele.david"/> -->
                            <release-item-reviewer id="shang.cynthia"/>
                            <release-item-reviewer id="smith.greg"/>
                            <release-item-reviewer id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Allow selective restore of databases from a cluster backup.  This feature can result in major space and time savings when only specific databases are restored.  Unrestored databases will not be accessible but must be manually dropped before they will be removed from the shared catalogue.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <!-- <release-item-contributor id="steele.david"/> -->
                            <release-item-reviewer id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>Experimental support for non-exclusive backups in <postgres/> 9.6 beta1.  Changes to the control/catalog/WAL versions in subsequent betas may break compatibility but <backrest/> will be updated with each release to keep pace.</p>
                    </release-item>
                 </release-feature-list>
             </release-core-list>
         </release>

         <release date="2016-04-14" version="1.00" title="New Repository Format and Configuration Scheme, Link Support">
             <release-core-list>
                 <p><b>IMPORTANT NOTE</b>: This flag day release breaks compatibility with older versions of <backrest/>.  The manifest format, on-disk structure, configuration scheme, and the exe/path names have all changed.  You must create a new repository to hold backups for this version of <backrest/> and keep your older repository for a time in case you need to do a restore.  Restores from the prior repository will require the prior version of <backrest/> but because of name changes it is possible to have <id>1.00</id> and a prior version of <backrest/> installed at the same time.  See the notes below for more detailed information on what has changed.</p>

                 <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                            <!-- <release-item-contributor id="steele.david"/> -->
                        </release-item-contributor-list>

                        <p>Implemented a new configuration scheme which should be far simpler to use.  See the User Guide and Configuration Reference for details but for a simple configuration all options can now be placed in the <setting>stanza</setting> section. Options that are shared between stanzas can be placed in the <setting>[global]</setting> section.  More complex configurations can still make use of command sections though this should be a rare use case.</p>
                    </release-item>

                    <release-item>
                        <p>The <setting>repo-path</setting> option now always refers to the repository where backups and archive are stored, whether local or remote, so the <setting>repo-remote-path</setting> option has been removed.  The new <setting>spool-path</setting> option can be used to define a location for queueing WAL segments when archiving asynchronously.  A local repository is no longer required.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                            <release-item-ideator id="frost.stephen"/>
                            <!-- <release-item-contributor id="steele.david"/> -->
                        </release-item-contributor-list>

                        <p>The default configuration filename is now <file>pgbackrest.conf</file> instead of <file>pg_backrest.conf</file>.  This was done for consistency with other naming changes but also to prevent old config files from being loaded accidentally when migrating to <id>1.00</id>.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                            <release-item-ideator id="frost.stephen"/>
                            <!-- <release-item-contributor id="steele.david"/> -->
                        </release-item-contributor-list>

                        <p>The default repository name was changed from <path>/var/lib/backup</path> to <path>/var/lib/pgbackrest</path>.</p>
                    </release-item>

                    <release-item>
                        <!-- <release-item-contributor-list>
                            <release-item-contributor id="steele.david"/>
                        </release-item-contributor-list> -->

                        <p>Lock files are now stored in <path>/tmp/pgbackrest</path> by default. These days <path>/run/pgbackrest</path> is the preferred location but that would require init scripts which are not part of this release.  The <setting>lock-path</setting> option can be used to configure the lock directory.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                            <!-- <release-item-contributor id="steele.david"/> -->
                        </release-item-contributor-list>

                        <p>Log files are now stored in <path>/var/log/pgbackrest</path> by default and no longer have the date appended so they can be managed with <id>logrotate</id>.  The <setting>log-path</setting> option can be used to configure the lock directory.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                            <release-item-ideator id="frost.stephen"/>
                            <!-- <release-item-contributor id="steele.david"/> -->
                        </release-item-contributor-list>

                        <p>Executable filename changed from <file>pg_backrest</file> to <file>pgbackrest</file>.</p>
                    </release-item>

                    <release-item>
                        <p>All files and directories linked from PGDATA are now included in the backup.  By default links will be restored directly into PGDATA as files or directories.  The <setting>{[dash]}-link-all</setting> option can be used to restore all links to their original locations.  The <setting>{[dash]}-link-map</setting> option can be used to remap a link to a new location.</p>
                    </release-item>

                    <release-item>
                        <p>Removed <setting>{[dash]}-tablespace</setting> option and replaced with <setting>{[dash]}-tablespace-map-all</setting> option which should more clearly indicate its function.</p>
                    </release-item>

                    <release-item>
                        <p>Added <id>detail</id> log level which will output more information than <id>info</id> without being as verbose as <id>debug</id>.</p>
                    </release-item>
                 </release-feature-list>
            </release-core-list>
         </release>

        <release date="2016-04-06" version="0.92" title="Command-line Repository Path Fix">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="wieck.jan"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where the master process was passing <setting>{[dash]}-repo-remote-path</setting> instead of <setting>{[dash]}-repo-path</setting> to the remote and causing the lock files to be created in the default repository directory (<path>/var/lib/backup</path>), generally ending in failure.  This was only an issue when <setting>{[dash]}-repo-remote-path</setting> was defined on the command line rather than in <file>pg_backrest.conf</file>.</p>
                    </release-item>
                </release-bug-list>
            </release-core-list>
        </release>

        <release date="2016-03-22" version="0.91" title="Tablespace Bug Fix and Minor Enhancements">
            <release-core-list>
                <p><b>IMPORTANT BUG FIX FOR TABLESPACES</b>: A change to the repository format was accidentally introduced in 0.90 which means the on-disk backup was no longer a valid <postgres/> cluster when the backup contained tablespaces.  This only affected users who directly copied the backups to restore <postgres/> clusters rather than using the restore command.  However, the fix breaks compatibility with older backups that contain tablespaces no matter how they are being restored (<backrest/> will throw errors and refuse to restore).  New full backups should be taken immediately after installing version 0.91 for any clusters that contain tablespaces.  If older backups need to be restored then use a version of <backrest/> that matches the backup version.</p>

                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="benoit.evan"/>
                        </release-item-contributor-list>

                        <p>Fixed repository incompatibility introduced in <backrest/> 0.90.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Copy <file>global/pg_control</file> last during backups.</p>
                    </release-item>

                    <release-item>
                        <p>Write <id>.info</id> and <id>.manifest</id> files to temp before moving them to their final locations and fsync'ing.</p>
                    </release-item>

                    <release-item>
                        <p>Rename <setting>{[dash]}-no-start-stop</setting> option to <setting>{[dash]}-no-online</setting>.</p>
                    </release-item>
                </release-feature-list>
            </release-core-list>

            <release-test-list>
                <release-feature-list>
                    <release-item>
                        <p>Static source analysis using Perl-Critic, currently passes on gentle.</p>
                    </release-item>
                </release-feature-list>
            </release-test-list>
        </release>

        <release date="2016-02-07" version="0.90" title="9.5 Support, Various Enhancements, and Minor Bug Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="odonnell.jason"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where specifying <setting>{[dash]}-no-archive-check</setting> would throw a configuration error.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where a temp WAL file left over after a well-timed system crash could cause the next <cmd>archive-push</cmd> to fail.</p>
                    </release-item>

                    <release-item>
                        <p>The <setting>retention-archive</setting> option can now be be safely set to less than backup retention (<setting>retention-full</setting> or <setting>retention-diff</setting>) without also specifying <setting>archive-copy=n</setting>.  The WAL required to make the backups that fall outside of archive retention consistent will be preserved in the archive.  However, in this case PITR will not be possible for the backups that fall outside of archive retention.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>When backing up and restoring tablespaces <backrest/> only operates on the subdirectory created for the version of <postgres/> being run against.  Since multiple versions can live in a tablespace (especially during a binary upgrade) this prevents too many files from being copied during a backup and other versions possibly being wiped out during a restore.  This only applies to <postgres/> >= 9.0 &amp;mdash; prior versions of <postgres/> could not share a tablespace directory.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="steele.david"/>
                            <release-item-contributor id="odonnell.jason"/>
                        </release-item-contributor-list>

                        <p>Generate an error when <setting>archive-check=y</setting> but <setting>archive_command</setting> does not execute <file>pg_backrest</file>.</p>
                    </release-item>

                    <release-item>
                        <p>Improved error message when <setting>repo-path</setting> or <setting>repo-remote-path</setting> does not exist.</p>
                    </release-item>

                    <release-item>
                        <p>Added checks for <setting>{[dash]}-delta</setting> and <setting>{[dash]}-force</setting> restore options to ensure that the destination is a valid $PGDATA directory.  <backrest/> will check for the presence of <file>PG_VERSION</file> or <file>backup.manifest</file> (left over from an aborted restore).  If neither file is found then <setting>{[dash]}-delta</setting> and <setting>{[dash]}-force</setting> will be disabled but the restore will proceed unless there are files in the $PGDATA directory (or any tablespace directories) in which case the operation will be aborted.</p>
                    </release-item>

                    <release-item>
                        <p>When restore <setting>{[dash]}-set=latest</setting> (the default) the actual backup restored will be output to the log.</p>
                    </release-item>

                    <release-item>
                        <p>Support for <postgres/> 9.5 partial WAL segments and <setting>recovery_target_action</setting> setting. The <setting>archive_mode = 'always'</setting> setting is not yet supported.</p>
                    </release-item>

                    <release-item>
                        <p>Support for <setting>recovery_target = 'immediate'</setting> recovery setting introduced in <postgres/> 9.4.</p>
                    </release-item>

                    <release-item>
                        <p>The following tablespace checks have been added: paths or files in pg_tblspc, relative links in pg_tblspc, tablespaces in $PGDATA. All three will generate errors.</p>
                    </release-item>
                </release-feature-list>
            </release-core-list>

            <release-doc-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="harvey.john"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where document generation failed because some OSs are not tolerant of having multiple installed versions of <postgres/>.  A separate VM is now created for each version.  Also added a sleep after database starts during document generation to ensure the database is running before the next command runs.</p>
                    </release-item>
                </release-bug-list>
            </release-doc-list>
        </release>

        <release date="2015-12-24" version="0.89" title="Timeout Bug Fix and Restore Read-Only Repositories">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where longer-running backups/restores would timeout when remote and threaded.  Keepalives are now used to make sure the remote for the main process does not timeout while the thread remotes do all the work.  The error message for timeouts was also improved to make debugging easier.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Allow restores to be performed on a read-only repository by using <setting>{[dash]}-no-lock</setting> and <setting>{[dash]}-log-level-file=off</setting>.  The <setting>{[dash]}-no-lock</setting> option can only be used with restores.</p>
                    </release-item>
                </release-feature-list>
            </release-core-list>

            <release-doc-list>
                <release-refactor-list>
                    <release-item>
                        <p>Minor styling changes, clarifications and rewording in the user guide.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>

            <release-test-list>
                <release-refactor-list>
                    <release-item>
                        <p>The dev branch has been renamed to master and for the time being the master branch has renamed to release, though it will probably be removed at some point {[dash]}- thus ends the gitflow experiment for <backrest/>.  It is recommended that any forks get re-forked and clones get re-cloned.</p>
                    </release-item>
                </release-refactor-list>
            </release-test-list>
        </release>

        <release date="2015-11-22" version="0.88" title="Documentation and Minor Bug Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="didovicher.dmitry"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where the <cmd>start</cmd>/<cmd>stop</cmd> commands required the <setting>{[dash]}-config</setting> option.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                            <release-item-ideator id="didovicher.dmitry"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where log files were being overwritten instead of appended.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where <setting>backup-user</setting> was not optional.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Symlinks are no longer created in backup directories in the repository.  These symlinks could point virtually anywhere and potentially be dangerous.  Symlinks are still recreated during a restore.</p>
                    </release-item>

                    <release-item>
                        <p>Added better messaging for backup expiration.  Full and differential backup expirations are logged on a single line along with a list of all dependent backups expired.</p>
                    </release-item>

                    <release-item>
                        <p>Archive retention is automatically set to full backup retention if not explicitly configured.</p>
                    </release-item>
                </release-feature-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <p>Added documentation in the user guide for delta restores, expiration, dedicated backup hosts, starting and stopping <backrest/>, and replication.</p>
                    </release-item>
                </release-feature-list>
            </release-doc-list>
        </release>

        <release date="2015-10-28" version="0.87" title="Website and User Guide">
            <release-core-list>
                <release-feature-list>
                    <release-item>
                        <p>The <file>backup_label.old</file> and <file>recovery.done</file> files are now excluded from backups.</p>
                    </release-item>
                </release-feature-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-contributor id="steele.david"/>
                            <release-item-contributor id="frost.stephen"/>
                            <release-item-reviewer id="renner.michael"/>
                            <release-item-reviewer id="shang.cynthia"/>
                            <release-item-reviewer id="radman.eric"/>
                            <release-item-reviewer id="didovicher.dmitry"/>
                        </release-item-contributor-list>

                        <p>Added a new user guide that covers <backrest/> basics and some advanced topics including PITR.  Much more to come, but it's a start.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>The website, markdown, and command-line help are now all generated from the same XML source.</p>
                    </release-item>
                </release-refactor-list>
            </release-doc-list>
        </release>

        <release date="2015-10-08" version="0.85" title="Start/Stop Commands and Minor Bug Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed an issue where an error could be returned after a backup or restore completely successfully.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where a resume would fail if temp files were left in the root backup directory when the backup failed.  This scenario was likely if the backup process got terminated during the copy phase.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Added <cmd>stop</cmd> and <cmd>start</cmd> commands to prevent <backrest/> processes from running on a system where <postgres/> is shutdown or the system needs to be quiesced for some other reason.</p>
                    </release-item>

                    <release-item>
                        <p>Experimental support for <postgres/> 9.5 beta1.  This may break when the control version or WAL magic changes in future versions but will be updated in each <backrest/> release to keep pace.  All regression tests pass except for <setting>{[dash]}-target-resume</setting> tests (this functionality has changed in 9.5) and there is no testing yet for <file>.partial</file> WAL segments.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Removed dependency on <code>IO::String</code> module.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>
        </release>

        <release date="2015-09-14" version="0.82" title="Refactoring, Command-line Help, and Minor Bug Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed an issue where resumed compressed backups were not preserving existing files.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where resume and incr/diff would not ensure that the prior backup had the same compression and hardlink settings.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where a cold backup using <setting>{[dash]}-no-start-stop</setting> could be started on a running <postgres/> cluster without <setting>{[dash]}-force</setting> specified.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where a thread could be started even when none were requested.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where the <backrest/> version number was not being updated in <file>backup.info</file> and <file>archive.info</file> after an upgrade/downgrade.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where the <cmd>info</cmd> command was throwing an exception when the repository contained no stanzas.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where the <postgres/> <code>pg_stop_backup()</code> NOTICEs were being output to <id>stderr</id>.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Experimental support for <postgres/> 9.5 alpha2.  This may break when the control version or WAL magic changes in future versions but will be updated in each <backrest/> release to keep pace.  All regression tests pass except for <setting>{[dash]}-target-resume</setting> tests (this functionality has changed in 9.5) and there is no testing yet for <file>.partial</file> WAL segments.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Renamed <setting>recovery-setting</setting> option and section to <setting>recovery-option</setting> to be more consistent with <backrest/> naming conventions.</p>
                    </release-item>

                    <release-item>
                        <p>Code cleanup and refactoring to standardize on patterns that have evolved over time.</p>
                    </release-item>

                    <release-item>
                        <p>Added dynamic module loading to speed up commands, especially asynchronous archiving.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <p>Command-line help is now extracted from the same XML source that is used for the other documentation and includes much more detail.</p>
                    </release-item>
                </release-feature-list>
            </release-doc-list>

            <release-test-list>
                <release-feature-list>
                    <release-item>
                        <p>Expiration tests are now synthetic rather than based on actual backups.  This will allow development of more advanced expiration features.</p>
                    </release-item>
                </release-feature-list>
            </release-test-list>
        </release>

        <release date="2015-08-09" version="0.80" title="DBI Support, Stability, and Convenience Features">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue that caused the formatted timestamp for both the oldest and newest backups to be reported as the current time by the <cmd>info</cmd> command.  Only <id>text</id> output was affected {[dash]}- <id>json</id> output reported the correct epoch values.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed protocol issue that was preventing ssh errors (especially on connection) from being logged.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="shang.cynthia"/>
                        </release-item-contributor-list>

                        <p>The repository is now created and updated with consistent directory and file modes.  By default <id>umask</id> is set to <id>0000</id> but this can be disabled with the <setting>neutral-umask</setting> setting.</p>
                    </release-item>

                    <release-item>
                        <p>Added the <br-option>stop-auto</br-option> option to allow failed backups to automatically be stopped when a new backup starts.</p>
                    </release-item>

                    <release-item>
                        <p>Added the <br-option>db-timeout</br-option> option to limit the amount of time <backrest/> will wait for <code>pg_start_backup()</code> and <code>pg_stop_backup()</code> to return.</p>
                    </release-item>

                    <release-item>
                        <p>Remove <file>pg_control</file> file at the beginning of the restore and copy it back at the very end.  This prevents the possibility that a partial restore can be started by <postgres/>.</p>
                    </release-item>

                    <release-item>
                        <p>Added checks to be sure the <setting>db-path</setting> setting is consistent with <setting>db-port</setting> by comparing the <setting>data_directory</setting> as reported by the cluster against the <setting>db-path</setting> setting and the version as reported by the cluster against the value read from <file>pg_control</file>.  The <setting>db-socket-path</setting> setting is checked to be sure it is an absolute path.</p>
                    </release-item>

                    <release-item>
                        <p>Experimental support for <postgres/> 9.5 alpha1.  This may break when the control version or WAL magic changes in future versions but will be updated in each <backrest/> release to keep pace.  All regression tests pass except for <setting>{[dash]}-target-resume</setting> tests (this functionality has changed in 9.5) and there is no testing yet for <file>.partial</file> WAL segments.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Now using Perl <code>DBI</code> and <code>DBD::Pg</code> for connections to <postgres/> rather than <cmd>psql</cmd>.  The <setting>cmd-psql</setting> and <setting>cmd-psql-option</setting> settings have been removed and replaced with <setting>db-port</setting> and <setting>db-socket-path</setting>.  Follow the instructions in the Installation Guide to install <code>DBD::Pg</code> on your operating system.</p>
                    </release-item>

                    <release-item>
                        <p>Major refactoring of the protocol layer to support future development.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <p>Split most of <file>README.md</file> out into <file>USERGUIDE.md</file> and <file>CHANGELOG.md</file> because it was becoming unwieldy.  Changed most references to <quote>database</quote> in the user guide to <quote>database cluster</quote> for clarity.</p>
                    </release-item>

                    <release-item>
                        <p>Changed most references to <quote>database</quote> in the user guide to <quote>database cluster</quote> for clarity.</p>
                    </release-item>
                </release-feature-list>
            </release-doc-list>

            <release-test-list>
                <release-feature-list>
                    <release-item>
                        <p>Added vagrant test configurations for Ubuntu 14.04 and CentOS 7.</p>
                    </release-item>
                </release-feature-list>
            </release-test-list>
        </release>

        <release date="2015-07-13" version="0.78" title="Remove CPAN Dependencies, Stability Improvements">
            <release-core-list>
                <release-refactor-list>
                    <release-item>
                        <p>Removed dependency on CPAN packages for multi-threaded operation.  While it might not be a bad idea to update the <code>threads</code> and <code>Thread::Queue</code> packages, it is no longer necessary.</p>
                    </release-item>
                    <release-item>
                        <p>Modified wait backoff to use a Fibonacci rather than geometric sequence.  This will make wait time grow less aggressively while still giving reasonable values.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-test-list>
                <release-feature-list>
                    <release-item>
                        <p>Added vagrant test configurations for Ubuntu 12.04 and CentOS 6.</p>
                    </release-item>

                    <release-item>
                        <p>More options for regression tests and improved code to run in a variety of environments.</p>
                    </release-item>
                </release-feature-list>
            </release-test-list>
        </release>

        <release date="2015-06-30" version="0.77" title="CentOS/RHEL 6 Support and Protocol Improvements">
            <release-core-list>
                <release-feature-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="freund.andres"/>
                        </release-item-contributor-list>

                        <p>Added file and directory syncs to the <code>File</code> object for additional safety during backup/restore and archiving.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="radman.eric"/>
                        </release-item-contributor-list>

                        <p>Added support for Perl 5.10.1 and OpenSSH 5.3 which are default for CentOS/RHEL 6.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="radman.eric"/>
                        </release-item-contributor-list>

                        <p>Improved error message when backup is run without <setting>archive_command</setting> set and without <setting>{[dash]}-no-archive-check</setting> specified.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Removed <file>pg_backrest_remote</file> and added the functionality to <file>pg_backrest</file> as the <cmd>remote</cmd> command.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Moved version number out of the <file>VERSION</file> file to <file>Version.pm</file> to better support packaging.</p>
                    </release-item>

                    <release-item>
                        <p>Replaced <code>IPC::System::Simple</code> and <code>Net::OpenSSH</code> with <code>IPC::Open3</code> to eliminate CPAN dependency for multiple operating systems.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>
        </release>

        <release date="2015-06-14" version="0.75" title="New Repository Format, Info Command and Experimental 9.5 Support">
            <release-core-list>
                <p><b>IMPORTANT NOTE</b>: This flag day release breaks compatibility with older versions of <backrest/>.  The manifest format, on-disk structure, and the binary names have all changed.  You must create a new repository to hold backups for this version of <backrest/> and keep your older repository for a time in case you need to do a restore.  The <file>pg_backrest.conf</file> file has not changed but you'll need to change any references to <file>pg_backrest.pl</file> in cron (or elsewhere) to <file>pg_backrest</file> (without the <file>.pl</file> extension).</p>

                <release-feature-list>
                    <release-item>
                        <p>Added the <cmd>info</cmd> command.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Logging now uses unbuffered output.  This should make log files that are being written by multiple threads less chaotic.</p>
                    </release-item>

                    <release-item>
                        <p>Experimental support for <postgres/> 9.5.  This may break when the control version or WAL magic changes but will be updated in each release.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>More efficient file ordering for <cmd>backup</cmd>.  Files are copied in descending size order so a single thread does not end up copying a large file at the end.  This had already been implemented for <cmd>restore</cmd>.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>
        </release>

        <release date="2015-06-01" version="0.70" title="Stability Improvements for Archiving, Improved Logging and Help">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue where <cmd>archive-copy</cmd> would fail on an incr/diff backup when <setting>hardlink=n</setting>.  In this case the <path>pg_xlog</path> path does not already exist and must be created.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Fixed an issue in async archiving where <cmd>archive-push</cmd> was not properly returning 0 when <setting>archive-max-mb</setting> was reached and moved the async check after transfer to avoid having to remove the stop file twice.  Also added unit tests for this case and improved error messages to make it clearer to the user what went wrong.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Fixed a locking issue that could allow multiple operations of the same type against a single stanza.  This appeared to be benign in terms of data integrity but caused spurious errors while archiving and could lead to errors in backup/restore.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Allow duplicate WAL segments to be archived when the checksum matches.  This is necessary for some recovery scenarios.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Allow comments/disabling in <file>pg_backrest.conf</file> using the <id>#</id> character.  Only <id>#</id> characters in the forst character of the line are honored.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Better logging before <id>pg_start_backup()</id> to make it clear when the backup is waiting on a checkpoint.</p>
                    </release-item>

                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                            <release-item-reviewer id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Various command behavior and logging fixes.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Replaced <code>JSON</code> module with <code>JSON::PP</code> which ships with core Perl.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="renner.michael"/>
                            <release-item-reviewer id="renner.michael"/>
                        </release-item-contributor-list>

                        <p>Various help fixes.</p>
                    </release-item>
                </release-bug-list>
            </release-doc-list>
        </release>

        <release date="2015-05-11" version="0.65" title="Improved Resume and Restore Logging, Compact Restores">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed an issue where an absolute path was not written into <file>recovery.conf</file> when the restore was run with a relative path.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Better resume support.  Resumed files are checked to be sure they have not been modified and the manifest is saved more often to preserve checksums as the backup progresses.  More unit tests to verify each resume case.</p>
                    </release-item>

                    <release-item>
                        <p>Resume is now optional.  Use the <setting>resume</setting> setting or <setting>{[dash]}-no-resume</setting> from the command line to disable.</p>
                    </release-item>

                    <release-item>
                        <p>More info messages during restore.  Previously, most of the restore messages were debug level so not a lot was output in the log.</p>
                    </release-item>

                    <release-item>
                        <p>Added <setting>tablespace</setting> setting to allow tablespaces to be restored into the <path>pg_tblspc</path> path.  This produces compact restores that are convenient for development, staging, etc.  Currently these restores cannot be backed up as <backrest/> expects only links in the <path>pg_tblspc</path> path.</p>
                    </release-item>
                </release-feature-list>
            </release-core-list>
        </release>

        <release date="2015-04-21" version="0.61" title="Bug Fix for Uncompressed Remote Destination">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed a buffering error that could occur on large, highly-compressible files when copying to an uncompressed remote destination.  The error was detected in the decompression code and resulted in a failed backup rather than corruption so it should not affect successful backups made with previous versions.</p>
                    </release-item>
                </release-bug-list>
            </release-core-list>
        </release>

        <release date="2015-04-19" version="0.60" title="Better Version Support and WAL Improvements">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Pushing duplicate WAL now generates an error.  This worked before only if checksums were disabled.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Database System IDs are used to make sure that all WAL in an archive matches up.  This should help prevent misconfigurations that send WAL from multiple clusters to the same archive.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Improved threading model by starting threads early and terminating them late.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-test-list>
                <release-feature-list>
                    <release-item>
                        <p>Regression tests working back to <postgres/> 8.3.</p>
                    </release-item>
                </release-feature-list>
            </release-test-list>
        </release>

        <release date="2015-03-25" version="0.50" title="Restore and Much More">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Fixed broken checksums and now they work with normal and resumed backups.  Finally realized that checksums and checksum deltas should be functionally separated and this simplified a number of things.  Issue #28 has been created for checksum deltas.</p>
                    </release-item>

                    <release-item>
                        <p>Fixed an issue where a backup could be resumed from an aborted backup that didn't have the same type and prior backup.</p>
                    </release-item>
                </release-bug-list>

                <release-feature-list>
                    <release-item>
                        <p>Added restore functionality.</p>
                    </release-item>

                    <release-item>
                        <p>All options can now be set on the command-line making <file>pg_backrest.conf</file> optional.</p>
                    </release-item>

                    <release-item>
                        <p>De/compression is now performed without threads and checksum/size is calculated in stream.  That means file checksums are no longer optional.</p>
                    </release-item>

                    <release-item>
                        <p>Added option <setting>{[dash]}-no-start-stop</setting> to allow backups when Postgres is shut down.  If <file>postmaster.pid</file> is present then <setting>{[dash]}-force</setting> is required to make the backup run (though if Postgres is running an inconsistent backup will likely be created).  This option was added primarily for the purpose of unit testing, but there may be applications in the real world as well.</p>
                    </release-item>

                    <release-item>
                        <p>Checksum for <file>backup.manifest</file> to detect a corrupted/modified manifest.</p>
                    </release-item>

                    <release-item>
                        <p>Link <path>latest</path> always points to the last backup.  This has been added for convenience and to make restores simpler.</p>
                    </release-item>
                </release-feature-list>

                <release-refactor-list>
                    <release-item>
                        <p>Removed dependency on <code>Moose</code>.  It wasn't being used extensively and makes for longer startup times.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-test-list>
                <release-feature-list>
                    <release-item>
                        <p>More comprehensive unit tests in all areas.</p>
                    </release-item>
                </release-feature-list>
            </release-test-list>
        </release>

        <release date="2014-10-05" version="0.30" title="Core Restructuring and Unit Tests">
            <release-core-list>
                <release-refactor-list>
                    <release-item>
                        <p>Complete rewrite of <code>BackRest::File</code> module to use a custom protocol for remote operations and Perl native GZIP and SHA operations.  Compression is performed in threads rather than forked processes.</p>
                    </release-item>

                    <release-item>
                        <p>Removed dependency on <code>Storable</code> and replaced with a custom ini file implementation.</p>
                    </release-item>

                    <release-item>
                        <p>Numerous other changes that can only be identified with a diff.</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <p>Added much needed documentation</p>
                    </release-item>
                </release-feature-list>
            </release-doc-list>

            <release-test-list>
                <release-feature-list>
                    <release-item>
                        <p>Fairly comprehensive unit tests for all the basic operations.  More work to be done here for sure, but then there is always more work to be done on unit tests.</p>
                    </release-item>
                </release-feature-list>
            </release-test-list>
        </release>

        <release date="2014-05-13" version="0.19" title="Improved Error Reporting/Handling">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Found and squashed a nasty bug where <code>file_copy()</code> was defaulted to ignore errors.  There was also an issue in <code>file_exists()</code> that was causing the test to fail when the file actually did exist.  Together they could have resulted in a corrupt backup with no errors, though it is very unlikely.</p>
                    </release-item>
                </release-bug-list>

                <release-refactor-list>
                    <release-item>
                        <p>Worked on improving error handling in the <code>File</code> object.  This is not complete, but works well enough to find a few errors that have been causing us problems (notably, find is occasionally failing building the archive async manifest when system is under load).</p>
                    </release-item>
                </release-refactor-list>
            </release-core-list>
        </release>

        <release date="2014-04-13" version="0.18" title="Return Soft Error When Archive Missing">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>The <cmd>archive-get</cmd> command now returns a 1 when the archive file is missing to differentiate from hard errors (ssh connection failure, file copy error, etc.)  This lets <postgres/> know that that the archive stream has terminated normally.  However, this does not take into account possible holes in the archive stream.</p>
                    </release-item>
                </release-bug-list>
            </release-core-list>
        </release>

        <release date="2014-04-03" version="0.17" title="Warn When Archive Directories Cannot Be Deleted">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>If an archive directory which should be empty could not be deleted backrest was throwing an error.  There's a good fix for that coming, but for the time being it has been changed to a warning so processing can continue.  This was impacting backups as sometimes the final archive file would not get pushed if the first archive file had been in a different directory (plus some bad luck).</p>
                    </release-item>
                </release-bug-list>
            </release-core-list>
        </release>

        <release date="2014-04-01" version="0.16" title="RequestTTY=yes for SSH Sessions">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <p>Added <setting>RequestTTY=yes</setting> to ssh sessions.  Hoping this will prevent random lockups.</p>
                    </release-item>
                </release-bug-list>
            </release-core-list>
        </release>

        <release date="2014-03-29" version="0.15" title="Added archive-get">
            <release-core-list>
                <release-feature-list>
                    <release-item>
                        <p>Added <cmd>archive-get</cmd> functionality to aid in restores.</p>
                    </release-item>

                    <release-item>
                        <p>Added option to force a checkpoint when starting the backup, <setting>start-fast=y</setting>.</p>
                    </release-item>
                </release-feature-list>
            </release-core-list>
        </release>

        <release date="2014-03-26" version="0.11" title="Minor Fixes">
            <release-core-list>
                <release-bug-list>
                    <release-item>
                        <release-item-contributor-list>
                            <release-item-ideator id="frost.stephen"/>
                        </release-item-contributor-list>

                        <p>Removed <setting>master_stderr_discard</setting> option on database SSH connections.  There have been occasional lockups and they could be related to issues originally seen in the file code.</p>
                    </release-item>

                    <release-item>
                        <p>Changed lock file conflicts on <cmd>backup</cmd> and <cmd>expire</cmd> commands to <id>ERROR</id>.  They were set to <id>DEBUG</id> due to a copy-and-paste from the archive locks.</p>
                    </release-item>
                </release-bug-list>
            </release-core-list>
        </release>

        <release date="2014-03-05" version="0.10" title="Backup and Archiving are Functional">
            <release-core-list>
                <release-feature-list>
                    <release-item>
                        <p>No restore functionality, but the backup directories are consistent <postgres/> data directories.  You'll need to either uncompress the files or turn off compression in the backup.  Uncompressed backups on a ZFS (or similar) filesystem are a good option because backups can be restored locally via a snapshot to create logical backups or do spot data recovery.</p>
                    </release-item>

                    <release-item>
                        <p>Archiving is single-threaded.  This has not posed an issue on our multi-terabyte databases with heavy write volume.  Recommend a large WAL volume or to use the async option with a large volume nearby.</p>
                    </release-item>

                    <release-item>
                        <p>Backups are multi-threaded, but the <code>Net::OpenSSH</code> library does not appear to be 100% thread-safe so it will very occasionally lock up on a thread.  There is an overall process timeout that resolves this issue by killing the process.  Yes, very ugly.</p>
                    </release-item>

                    <release-item>
                        <p>Checksums are lost on any resumed backup. Only the final backup will record checksum on multiple resumes.  Checksums from previous backups are correctly recorded and a full backup will reset everything.</p>
                    </release-item>

                    <release-item>
                        <p>The <file>backup.manifest</file> is being written as <code>Storable</code> because <code>Config::IniFile</code> does not seem to handle large files well.  Would definitely like to save these as human-readable text.</p>
                    </release-item>
                </release-feature-list>
            </release-core-list>

            <release-doc-list>
                <release-feature-list>
                    <release-item>
                        <p>Absolutely no documentation (outside the code).  Well, excepting these release notes.</p>
                    </release-item>
                </release-feature-list>
            </release-doc-list>
        </release>
    </release-list>
</doc>
